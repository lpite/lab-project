<div class="popup" [ngClass]="{ 'popup--hidden': !(display$ | async) }">
  <div class="body">
    <button class="close_button" (click)="closePopUp()">
      <svg>
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M9.84606 12.4986L0.552631 3.20519C-0.1806 2.47196 -0.1806 1.28315 0.552631 0.549923C1.28586 -0.183308 2.47466 -0.183308 3.20789 0.549923L12.5013 9.84335L21.792 0.552631C22.5253 -0.1806 23.7141 -0.1806 24.4473 0.552631C25.1805 1.28586 25.1805 2.47466 24.4473 3.20789L15.1566 12.4986L24.45 21.792C25.1832 22.5253 25.1832 23.7141 24.45 24.4473C23.7168 25.1805 22.528 25.1805 21.7947 24.4473L12.5013 15.1539L3.20519 24.45C2.47196 25.1832 1.28315 25.1832 0.549923 24.45C-0.183308 23.7168 -0.183308 22.528 0.549923 21.7947L9.84606 12.4986Z"
          fill="white"
        ></path>
      </svg>
    </button>
    <div class="body_top">
      <img src="/assets/icons/pizza-logo.svg" alt="" width="49" />
      <span>{{ numberOfPizzeriasText }} по Україні</span>
    </div>
    <div class="location_search">
      <div class="location_search__input">
        <input
          type="text"
          class="input"
          placeholder="Пошук..."
          (input)="findCities($event)"
        />
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="search_icon"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M18.293 19.707l-4-4 1.414-1.414 4 4a1 1 0 01-1.414 1.414z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.5 16a5.5 5.5 0 100-11 5.5 5.5 0 000 11zm0 2a7.5 7.5 0 100-15 7.5 7.5 0 000 15z"
          ></path>
        </svg>
      </div>
      <div class="popular_cities_container">
        <button
          class="popular_city_button"
          *ngFor="let bigCity of bigCities"
          (click)="selectCity(bigCity)"
        >
          {{ bigCity.name }}
        </button>
      </div>
    </div>
    <div class="cities_table">
      <div class="table_col" *ngIf="checkIfNeedToDisplayColumn(ALPHABET1)">
        <div class="table_group" *ngFor="let letter of ALPHABET1">
          <span
            class="table_group__letter"
            *ngIf="filterCities(letter).length"
            >{{ letter }}</span
          >
          <button
            class="city_button"
            [ngClass]="{ 'city_button--gray': city.pizzerias_quantity === '0' }"
            *ngFor="let city of filterCities(letter)"
            [disabled]="city.pizzerias_quantity === '0'"
            (click)="selectCity(city)"
          >
            <span class="city_label">{{ city.name }}</span>
            <span
              *ngIf="city.pizzerias_quantity === '0'"
              class="in_future_label"
              >Незабаром</span
            >
          </button>
        </div>
      </div>
      <div class="table_col" *ngIf="checkIfNeedToDisplayColumn(ALPHABET2)">
        <div class="table_group" *ngFor="let letter of ALPHABET2">
          <span
            class="table_group__letter"
            *ngIf="filterCities(letter).length"
            >{{ letter }}</span
          >
          <button
            class="city_button"
            [ngClass]="{ 'city_button--gray': city.pizzerias_quantity === '0' }"
            *ngFor="let city of filterCities(letter)"
            [disabled]="city.pizzerias_quantity === '0'"
            (click)="selectCity(city)"
          >
            <span class="city_label">{{ city.name }}</span>
            <span
              *ngIf="city.pizzerias_quantity === '0'"
              class="in_future_label"
              >Незабаром</span
            >
          </button>
        </div>
      </div>
      <div class="table_col" *ngIf="checkIfNeedToDisplayColumn(ALPHABET3)">
        <div class="table_group" *ngFor="let letter of ALPHABET3">
          <span
            class="table_group__letter"
            *ngIf="filterCities(letter).length"
            >{{ letter }}</span
          >
          <button
            class="city_button"
            [ngClass]="{ 'city_button--gray': city.pizzerias_quantity === '0' }"
            *ngFor="let city of filterCities(letter)"
            [disabled]="city.pizzerias_quantity === '0'"
            (click)="selectCity(city)"
          >
            <span class="city_label">{{ city.name }}</span>
            <span
              *ngIf="city.pizzerias_quantity === '0'"
              class="in_future_label"
              >Незабаром</span
            >
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
